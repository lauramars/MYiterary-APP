{"ast":null,"code":"import _defineProperty from \"/Users/laura/Desktop/Ubicum/Part VI-React/client/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// 0- create ReduxStore\nconst redux = require('redux');\n\nconst createStore = redux.createStore;\nconst applyMiddleware = redux.applyMiddleware;\n\nconst thunkMiddleware = require('redux-thunk').default;\n\nconst axios = require('axios'); // 1- STATE\n\n\nconst initialState = {\n  loading: false,\n  cities: [],\n  error: ''\n}; // 2- ACTIONS\n\nconst FETCH_CITIES_REQUEST = 'FETCH_CITIES_REQUEST';\nconst FETCH_CITIES_SUCCESS = 'FETCH_CITIES_SUCCESS';\nconst FETCH_CITIES_FAILURE = 'FETCH_CITIES_FAILURE'; // Action creator\n\nconst fetchCitiesRequest = () => {\n  return {\n    type: FETCH_CITIES_REQUEST\n  };\n};\n\nconst fetchCitiesSuccess = () => {\n  return {\n    type: FETCH_CITIES_SUCCESS,\n    payload: cities\n  };\n};\n\nconst fetchCitiesFailure = () => {\n  return {\n    type: FETCH_CITIES_FAILURE,\n    payload: error\n  };\n}; //  3- REDUCERS\n\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_CITIES_REQUEST:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case FETCH_CITIES_SUCCESS:\n      return {\n        loading: false,\n        cities: action.payload,\n        error: ''\n      };\n\n    case FETCH_CITIES_FAILURE:\n      return {\n        loading: false,\n        cities: [],\n        error: action.payload\n      };\n  }\n}; // Action Creators\n\n\nconst fetchCities = () => {\n  return function (dispatch) {\n    dispatch(fetchCitiesRequest());\n    axios.get('https://mern-ubiqum-v2.herokuapp.com/cities/all').then(response => {\n      const cities = response.data.map(city => city.id);\n      dispatch(fetchCitiesSuccess(cities));\n    }).catch(error => {\n      dispatch(fetchCitiesFailure(error.message));\n    });\n  };\n};\n\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware)); // now we subscribe the store\n\nstore.subscribe(() => {\n  console.log(store.getState());\n});\nstore.dispatch(fetchCities());","map":{"version":3,"sources":["/Users/laura/Desktop/Ubicum/Part VI-React/client/client/src/store/actions/cityActions.js"],"names":["redux","require","createStore","applyMiddleware","thunkMiddleware","default","axios","initialState","loading","cities","error","FETCH_CITIES_REQUEST","FETCH_CITIES_SUCCESS","FETCH_CITIES_FAILURE","fetchCitiesRequest","type","fetchCitiesSuccess","payload","fetchCitiesFailure","reducer","state","action","fetchCities","dispatch","get","then","response","data","map","city","id","catch","message","store","subscribe","console","log","getState"],"mappings":";;;;;;AACA;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,WAAW,GAAGF,KAAK,CAACE,WAA1B;AACA,MAAMC,eAAe,GAAGH,KAAK,CAACG,eAA9B;;AACA,MAAMC,eAAe,GAAGH,OAAO,CAAC,aAAD,CAAP,CAAuBI,OAA/C;;AACA,MAAMC,KAAK,GAAGL,OAAO,CAAC,OAAD,CAArB,C,CAEA;;;AAEA,MAAMM,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAE,KADQ;AAEjBC,EAAAA,MAAM,EAAE,EAFS;AAGjBC,EAAAA,KAAK,EAAE;AAHU,CAArB,C,CAMA;;AAEA,MAAMC,oBAAoB,GAAG,sBAA7B;AACA,MAAMC,oBAAoB,GAAG,sBAA7B;AACA,MAAMC,oBAAoB,GAAG,sBAA7B,C,CAEA;;AAEA,MAAMC,kBAAkB,GAAG,MAAK;AAC5B,SAAO;AACHC,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH,CAJD;;AAMA,MAAMK,kBAAkB,GAAG,MAAK;AAC5B,SAAO;AACHD,IAAAA,IAAI,EAAEH,oBADH;AAEHK,IAAAA,OAAO,EAAER;AAFN,GAAP;AAIH,CALD;;AAOA,MAAMS,kBAAkB,GAAG,MAAK;AAC5B,SAAO;AACHH,IAAAA,IAAI,EAAEF,oBADH;AAEHI,IAAAA,OAAO,EAAEP;AAFN,GAAP;AAIH,CALD,C,CAOA;;;AAEA,MAAMS,OAAO,GAAG,CAACC,KAAK,GAAGb,YAAT,EAAuBc,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACN,IAAf;AACI,SAAKJ,oBAAL;AACI,+BACOS,KADP;AAEIZ,QAAAA,OAAO,EAAE;AAFb;;AAKJ,SAAKI,oBAAL;AACI,aAAO;AACHJ,QAAAA,OAAO,EAAE,KADN;AAEHC,QAAAA,MAAM,EAAEY,MAAM,CAACJ,OAFZ;AAGHP,QAAAA,KAAK,EAAE;AAHJ,OAAP;;AAMJ,SAAKG,oBAAL;AACI,aAAO;AACHL,QAAAA,OAAO,EAAE,KADN;AAEHC,QAAAA,MAAM,EAAE,EAFL;AAGHC,QAAAA,KAAK,EAAEW,MAAM,CAACJ;AAHX,OAAP;AAfR;AAqBH,CAtBD,C,CAwBA;;;AAEA,MAAMK,WAAW,GAAG,MAAM;AACtB,SAAO,UAASC,QAAT,EAAmB;AAEtBA,IAAAA,QAAQ,CAACT,kBAAkB,EAAnB,CAAR;AACAR,IAAAA,KAAK,CAACkB,GAAN,CAAU,iDAAV,EACCC,IADD,CACOC,QAAQ,IAAI;AACf,YAAMjB,MAAM,GAAGiB,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,IAAI,IAAIA,IAAI,CAACC,EAA/B,CAAf;AACAP,MAAAA,QAAQ,CAACP,kBAAkB,CAACP,MAAD,CAAnB,CAAR;AACH,KAJD,EAMCsB,KAND,CAMQrB,KAAK,IAAI;AACba,MAAAA,QAAQ,CAACL,kBAAkB,CAACR,KAAK,CAACsB,OAAP,CAAnB,CAAR;AACH,KARD;AASH,GAZD;AAaH,CAdD;;AAgBA,MAAMC,KAAK,GAAG/B,WAAW,CAACiB,OAAD,EAAUhB,eAAe,CAACC,eAAD,CAAzB,CAAzB,C,CAEA;;AAEA6B,KAAK,CAACC,SAAN,CAAgB,MAAK;AAACC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,QAAN,EAAZ;AAA8B,CAApD;AACAJ,KAAK,CAACV,QAAN,CAAeD,WAAW,EAA1B","sourcesContent":["\n// 0- create ReduxStore\n\nconst redux = require('redux')\nconst createStore = redux.createStore\nconst applyMiddleware = redux.applyMiddleware\nconst thunkMiddleware = require('redux-thunk').default\nconst axios = require('axios')\n\n// 1- STATE\n\nconst initialState = {\n    loading: false, \n    cities: [],\n    error: ''\n}\n\n// 2- ACTIONS\n\nconst FETCH_CITIES_REQUEST = 'FETCH_CITIES_REQUEST'\nconst FETCH_CITIES_SUCCESS = 'FETCH_CITIES_SUCCESS'\nconst FETCH_CITIES_FAILURE = 'FETCH_CITIES_FAILURE' \n\n// Action creator\n\nconst fetchCitiesRequest = ()=> {\n    return {\n        type: FETCH_CITIES_REQUEST\n    }\n}\n\nconst fetchCitiesSuccess = ()=> {\n    return {\n        type: FETCH_CITIES_SUCCESS,\n        payload: cities\n    }\n}\n\nconst fetchCitiesFailure = ()=> {\n    return {\n        type: FETCH_CITIES_FAILURE,\n        payload: error\n    }\n}\n\n//  3- REDUCERS\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type){\n        case FETCH_CITIES_REQUEST:\n            return {\n                ...state,\n                loading: true\n            }\n\n        case FETCH_CITIES_SUCCESS:\n            return {\n                loading: false, \n                cities: action.payload,\n                error: ''\n            }    \n\n        case FETCH_CITIES_FAILURE:\n            return {\n                loading: false, \n                cities: [],\n                error: action.payload\n            }    \n    }\n}\n\n// Action Creators\n\nconst fetchCities = () => {\n    return function(dispatch) {\n        \n        dispatch(fetchCitiesRequest())\n        axios.get('https://mern-ubiqum-v2.herokuapp.com/cities/all')\n        .then (response => {\n            const cities = response.data.map(city => city.id)\n            dispatch(fetchCitiesSuccess(cities))\n        })\n\n        .catch (error => {\n            dispatch(fetchCitiesFailure(error.message))\n        })\n    }\n}\n\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware))\n\n// now we subscribe the store\n\nstore.subscribe(()=> {console.log(store.getState())})\nstore.dispatch(fetchCities())"]},"metadata":{},"sourceType":"module"}